
<script>
    window.location.href = '/index.html?page=./blog/DmZi_2024-03-16_子网掩码与划分子网.html';
</script>
<h1 id="子网掩码与划分子网">子网掩码与划分子网</h1>
<h2 id="子网掩码">子网掩码</h2>
<p>在局域网（LAN）中使用子网掩码的设计对于网络硬件和整体网络架构都带来了一系列的好处。这种设计主要是为了实现更有效的网络划分、提高安全性、优化路由效率，以及更好地管理IP地址。以下是这些好处的详细解释以及在IP地址中掩码的表示方法。</p>
<h3 id="硬件层面的好处">硬件层面的好处</h3>
<ol type="1">
<li><p><strong>效率提升</strong>：通过将大型网络划分成更小的子网，子网掩码可以帮助减少广播流量。<strong>在没有子网划分的情况下，一个广播消息会被送达网络上的每一个设备，这可能会导致网络拥堵和性能下降</strong>。子网掩码通过限制广播消息的范围，从而提高网络的整体效率。</p></li>
<li><p><strong>安全性增强</strong>：子网掩码通过将网络分割成较小的单元，有助于提高安全性。不同子网之间的通信可以通过路由器进行控制，这样可以更容易地实施访问控制策略和监视网络流量，防止不必要的访问和网络攻击。</p></li>
<li><p><strong>路由优化</strong>：在网络硬件层面，子网掩码允许路由器更有效地处理IP路由。<strong>通过识别哪些IP地址属于同一个子网，路由器可以减少必须检查的路由表项</strong>，加快数据包的传输速度。</p></li>
</ol>
<h3 id="ip地址中的掩码表示方法">IP地址中的掩码表示方法</h3>
<p>假设您有一个IP地址<code>192.168.1.100</code>和一个子网掩码<code>255.255.255.0</code>。</p>
<p>子网掩码<code>255.255.255.0</code>表<strong>示前24位是网络部分</strong>，子网掩码还可以通过CIDR（无类别域间路由）表示法来表示，例如<code>192.168.1.1/24</code>，其中“/24”表示网络部分占据了24位。</p>
<ol type="1">
<li>IP地址<code>192.168.1.100</code>在二进制中表示为</li>
</ol>
<div class="sourceCode" id="cb1"><pre
class="sourceCode powershell"><code class="sourceCode powershell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">11000000.10101000</span><span class="op">.</span><span class="dv">00000001.01100100</span></span></code></pre></div>
<ol start="2" type="1">
<li>子网掩码<code>255.255.255.0</code>在二进制中表示为</li>
</ol>
<div class="sourceCode" id="cb2"><pre
class="sourceCode powershell"><code class="sourceCode powershell"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dv">11111111.11111111</span><span class="op">.</span><span class="dv">11111111.00000000</span></span></code></pre></div>
<p>进行”与”运算后：</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode powershell"><code class="sourceCode powershell"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">11000000.10101000</span><span class="op">.</span><span class="dv">00000001.01100100</span> <span class="op">(</span><span class="dv">192.168</span><span class="op">.</span><span class="dv">1.100</span><span class="op">)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="dv">11111111.11111111</span><span class="op">.</span><span class="dv">11111111.00000000</span> <span class="op">(</span><span class="dv">255.255</span><span class="op">.</span><span class="dv">255.0</span><span class="op">)</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="op">-----------------------------------</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="dv">11000000.10101000</span><span class="op">.</span><span class="dv">00000001.00000000</span> <span class="op">(</span><span class="dv">192.168</span><span class="op">.</span><span class="dv">1.0</span><span class="op">)</span></span></code></pre></div>
<p>这个运算的结果<code>192.168.1.0</code>是这个IP地址所在的<strong>子网络地址</strong>。</p>
<p>通过这个运算，设备可以确定发往<code>192.168.1.100</code>的数据包是否属于同一个子网（即192.168.1.0/24网络）。</p>
<h2 id="使用子网掩码划分子网">使用子网掩码划分子网</h2>
<p>子网掩码用来提取IP地址中的网络部分，从而迅速判断该IP地址属于哪一个IP网段。</p>
<p>这种方法非常高效，因为它仅仅通过一个简单的位运算就能完成这项工作，这比编写复杂的IP解析程序来判断要简单得多。</p>
<p>使用子网掩码<code>255.255.255.128</code>（或者用CIDR表示法为<code>/25</code>）划分子网是一种常见的方式，它允许你将一个较大的网络分割成两个较小的子网。在这种情况下，最后一个字节（或8位）的最高位（即第8位）用于区分这两个子网。</p>
<h3 id="子网划分过程">子网划分过程</h3>
<p>以一个例子来说明，假设我们有一个IP地址<code>192.168.1.0</code>和子网掩码<code>255.255.255.128</code>：</p>
<ul>
<li><strong>网络地址</strong>：<code>192.168.1.0</code></li>
<li><strong>子网掩码</strong>：<code>255.255.255.128</code>，二进制表示为</li>
</ul>
<div class="sourceCode" id="cb4"><pre
class="sourceCode powershell"><code class="sourceCode powershell"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dv">11111111.11111111</span><span class="op">.</span><span class="dv">11111111.10000000</span></span></code></pre></div>
<p>这个子网掩码将最后一个字节的最高位作为子网部分，这意味着我们可以根据这个位是0还是1来划分两个子网：</p>
<ol type="1">
<li><p>第一个子网的范围会包含那些在最后一个字节中最高位为0的IP地址，即<code>192.168.1.0</code>到<code>192.168.1.127</code>。</p>
<ul>
<li><strong>子网1网络地址</strong>：<code>192.168.1.0/25</code></li>
<li><strong>可用IP地址范围</strong>：<code>192.168.1.1</code>到<code>192.168.1.126</code></li>
<li><strong>广播地址</strong>：<code>192.168.1.127</code></li>
</ul></li>
<li><p>第二个子网的范围会包含那些在最后一个字节中最高位为1的IP地址，即<code>192.168.1.128</code>到<code>192.168.1.255</code>。</p>
<ul>
<li><strong>子网2网络地址</strong>：<code>192.168.1.128/25</code></li>
<li><strong>可用IP地址范围</strong>：<code>192.168.1.129</code>到<code>192.168.1.254</code></li>
<li><strong>广播地址</strong>：<code>192.168.1.255</code></li>
</ul></li>
</ol>
<h3 id="判断归属子网的方法">判断归属子网的方法</h3>
<p>要判断一个特定的IP地址属于哪个子网，您可以查看地址的最后8位中的最高位（即第25位）。如果这一位是0，则该地址属于第一个子网；如果这一位是1，则该地址属于第二个子网。</p>
<p>例如，对于IP地址<code>192.168.1.34</code>：</p>
<ul>
<li>最后8位是<code>00100010</code>，最高位是0，所以它属于第一个子网（<code>192.168.1.0/25</code>）。</li>
</ul>
<p>对于IP地址<code>192.168.1.200</code>：</p>
<ul>
<li>最后8位是<code>11001000</code>，最高位是1，所以它属于第二个子网（<code>192.168.1.128/25</code>）。</li>
</ul>
<p>这种方法允许网络工程师非常灵活地根据需求划分和管理网络空间，优化网络结构和性能。</p>
